2022-01-20 로그 기록 시작

~ 2022-01-20 : 구글, 네이버, 야휴 검색 코드 완성
검색 사이트 html 정보를 받아서 그중 순위 a 태그만 수집후 순서대로 머니사이트와 매칭하면서 순위기록

수집된 a 태그에서 루트 도메인만 추출하고, "www." 이 있는 경우와 없는 경우가 있기에 검색 결과에서 "www."을 제거 하면서 매칭

머니사이트와 일치하면 페이지 넘버와 순위를 리스트에 입력
모든 키워드 검색이 마치면 리스트에 있는 순위들 순서대로 출력

* 개선필요
- 자동으로 머니사이트와 키워드 교체하면서 작업하도록 CSV 코드 학습 필요
- 크롤링한 페이지에 있는 a 태그 전부를 매칭하지 않고 한번에 머니사이트가 해당페이지에 있는지 체크하고 넘어가는 식으로 검색 시간 단축이 필요
- 구글, 네이버, 야후를 한번에 기록하도록 코드를 묶을 필요가 있음
- 궁극적으로 하나의 키워드로 검색할 때 내가 가지고 있는 머니사이트 중 동일한 키워드를 가진 작업을 한번의 크롤링으로 끝낼 수 있게 꾸려야함
- 멀티스레드를 활용해서 크롤링 속도를 4배가량 상승 시킬 수 있다. 
- 프록시를 적용하여 429 에러를 피할 수 있게 해야 한다.

% 개선완료
- 머니사이트와 타겟url 매칭을 일정하게 하기위해 "http(s)://www.", "/"를 제외하고 매칭하도록 변경



2022-02-09 검색순위 기록 개선 방향

매번 Moneysite를 바꿔가면서 중복된 키워드를 다시 request 하지 않도록 

키워드 검색 순위를 csv 형태로 저장을 시키고 해당 키워드가 검색된 적이 없을때 request를 하도록 바꾸자

우선 매 검색때 마다 폴더를 생성해 그날 생성한 폴더가 있으면 폴더에 들어가서 해당 키워드 검색 기록이 있는 지 확인하고 있으면 들어가서 순위 빼오고 없으면 request하여 추가하자

2022-04-18 업데이트
네이버 검색시 1페이지 조차 아무런 결과가 없을 경우 target_url이 확정되지 않아 코드가 멈추는 현상이 있음
target_url = "none" 을 미리 선언 해둠으로 해결

2022-11-11 개선 사항 

네이버 검색시, href 에 적힌 주소와 실제 텍스트로 표시하는 주소가 다를 수 있다. 
따라서 파이썬으로 검색 순위에는 없다고 뜨지만, 실제로 검색해서 들어가면 노출이 되고 있는 경우가 있다. 

네이버 검색시 href 링크보다 텍스트를 검색하도록 할 필요가 있다.



